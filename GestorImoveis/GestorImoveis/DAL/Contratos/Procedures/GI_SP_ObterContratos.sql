
CREATE PROCEDURE GI_SP_ObterContratos

@FILTRO VARCHAR(100),
@VALOR  VARCHAR(100)

AS

IF(@FILTRO = 'Codigo')
BEGIN
 SELECT 
  CODCONTR 
,SITCONTR 
,TIPOIMOVCONTR 
,NOMELOCASCONTR 
,NOMELOCATCONTR 
,DTENTRADACONTR 
,QTAMESESCONTR 
,DTSAIDACONTR 
,DIAPAGCONTR 
,VALORCONTR 
,VLRIPTUCONTR 
,DTCADCONTR 
,CEPCONTR 
,ENDCONTR 
,NUMIMOVCONTR 
,BAIRROCONTR 
,CIDADECONTR 
,UFCONTR 
,COMPLCONTR 
,COMPL2CONTR 
 FROM CCONTRATOS
 WHERE CODCONTR = @VALOR
END
ELSE IF(@FILTRO = 'Nome')
BEGIN
 SELECT 
   CODCONTR 
,SITCONTR 
,TIPOIMOVCONTR 
,NOMELOCASCONTR 
,NOMELOCATCONTR 
,DTENTRADACONTR 
,QTAMESESCONTR 
,DTSAIDACONTR 
,DIAPAGCONTR 
,VALORCONTR 
,VLRIPTUCONTR 
,CEPCONTR 
,ENDCONTR 
,NUMIMOVCONTR 
,BAIRROCONTR 
,CIDADECONTR 
,UFCONTR 
,COMPLCONTR 
,COMPL2CONTR 
 FROM CCONTRATOS
 WHERE NOMELOCASCONTR = @VALOR
 END
ELSE
BEGIN
 SELECT 
   CODCONTR 
,SITCONTR 
,TIPOIMOVCONTR 
,NOMELOCASCONTR 
,NOMELOCATCONTR 
,DTENTRADACONTR 
,QTAMESESCONTR 
,DTSAIDACONTR 
,DIAPAGCONTR 
,VALORCONTR 
,VLRIPTUCONTR 
,CEPCONTR 
,ENDCONTR 
,NUMIMOVCONTR 
,BAIRROCONTR 
,CIDADECONTR 
,UFCONTR 
,COMPLCONTR 
,COMPL2CONTR 
 FROM CCONTRATOS
 END
GO

